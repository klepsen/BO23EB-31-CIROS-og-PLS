TIMESTAMP: DATE: 17.6.2019 TIME: 12:7:58
---------------------------------------------------------------------------

MODUL: §$$$PROG$$$MONITORMILL§ 
COMPILER: cirosCompilerMelfaBasic5.EXE
VERSION: 6.4.3.16513
NEXT GLOBAL ADDRESS: <0:27>

---------------------------------------------------------------------------
EXPORT
---------------------------------------------------------------------------

PROC: $$$PROG$$$MONITORMILL
FORMAL PARAMETERS: 

---------------------------------------------------------------------------
IMPORT
---------------------------------------------------------------------------

VAR: P_CURR
TYPE: ARRAY(dim(SIZE(1,4),NIL),POSITION)

VAR: P_MILLCLAMPPOSE
TYPE: POSITION

FUNC: ZONE
RETURN TYPE: REAL
FORMAL PARAMETERS:  POSITION, POSITION, POSITION

VAR: M_FORCECNCDROPEN
TYPE: INT

VAR: M_ISROBOTARMMILL
TYPE: INT

---------------------------------------------------------------------------
SYMBOLIC IRDATA
---------------------------------------------------------------------------
DECLARATION :
BEGIN
DEFREC,1,I; <TYPE:1,I><USER:$$$PROG$$$MONITORMILL#DOOROPENED> :=  <0:0>
DEFREC,1,I; <TYPE:1,I><USER:$$$PROG$$$MONITORMILL#VICEOPENED> :=  <0:1>
DEFREC,1,I; <TYPE:1,I><USER:$$$PROG$$$MONITORMILL#CNCSTOPPED> :=  <0:2>
DEFREC,1,I; <TYPE:1,I><USER:$$$PROG$$$MONITORMILL#CNCINERROR> :=  <0:3>
DEFREC,1,I; <TYPE:1,I><USER:$$$PROG$$$MONITORMILL#OPENDOOR> :=  <0:4>
DEFREC,1,I; <TYPE:1,I><USER:$$$PROG$$$MONITORMILL#CLOSEDOOR> :=  <0:5>
DEFREC,1,I; <TYPE:1,I><USER:$$$PROG$$$MONITORMILL#ISRBTARMINMILL> :=  <0:6>
DEFREC,1,I; <TYPE:1,I><USER:$$$PROG$$$MONITORMILL#DO_CNCSTOPPED> :=  <0:7>
DEFREC,1,I; <TYPE:1,I><USER:$$$PROG$$$MONITORMILL#DO_CNCINERROR> :=  <0:8>
DEFREC,1,I; <TYPE:1,I><USER:$$$PROG$$$MONITORMILL#DO_CNCDOOROPEN> :=  <0:9>
DEFREC,1,I; <TYPE:1,I><USER:$$$PROG$$$MONITORMILL#DO_CNCVICEOPEN> :=  <0:10>
DEFREC,1,B,1,WLD,1,ADX,2,I; <TYPE:1,B,1,WLD,1,ADX,2,I><USER:$$$PROG$$$MONITORMILL#MILLZONECORNER1> :=  <0:11>
DEFREC,1,B,1,WLD,1,ADX,2,I; <TYPE:1,B,1,WLD,1,ADX,2,I><USER:$$$PROG$$$MONITORMILL#MILLZONECORNER2> :=  <0:16>
DEFREC,1,B,1,WLD,1,ADX,2,I; <TYPE:1,B,1,WLD,1,ADX,2,I><USER:$$$PROG$$$MONITORMILL#CURRENTPOSITION> :=  <0:21>
DEFREC,1,I; <TYPE:1,I><USER:$$$PROG$$$MONITORMILL#ARMINSIDETHEZONE> :=  <0:26>
END
---------------------------------------------------------------------------
BODY :
BEGIN
TSKBEG,0,25,'TASK::$$$PROG$$$MONITORMILL';
MOVDAT,I,%ST,0,I,%CON,24270;
!EXT:$$$PROG$$$MONITORMILL!!$$$PROG$$$MONITORMILL:_$$$PROG$$$MONITORMILL!PRCBEG,0,'$$$PROG$$$MONITORMILL';
BLBEG,0,1;
DEFREC,1,R;// Direct Source Register
DEFREC,1,R;// Direct Source Register
DEFREC,1,R;// Direct Source Register
DEFREC,1,I;// Direct Source Register
DEFREC,1,B;// Direct Source Register
!$$$PROG$$$MONITORMILL:1!CASE,%ST,0,-1,?$$$PROG$$$MONITORMILL:2?;
!$$$PROG$$$MONITORMILL:2!!$$$PROG$$$MONITORMILL:_1!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,1;
!$$$PROG$$$MONITORMILL:_2!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,2;
!$$$PROG$$$MONITORMILL:_3!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,3;
!$$$PROG$$$MONITORMILL:_4!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,4;
!$$$PROG$$$MONITORMILL:_5!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,5;
!$$$PROG$$$MONITORMILL:_6!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,6;
!$$$PROG$$$MONITORMILL:_7!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,7;
!$$$PROG$$$MONITORMILL:_8!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,8;
!$$$PROG$$$MONITORMILL:_9!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,9;
!$$$PROG$$$MONITORMILL:_10!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,10;
!$$$PROG$$$MONITORMILL:_11!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,11;
!$$$PROG$$$MONITORMILL:_12!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,12;
!$$$PROG$$$MONITORMILL:_13!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,13;
!$$$PROG$$$MONITORMILL:_14!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,14;
!$$$PROG$$$MONITORMILL:_15!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,15;
!$$$PROG$$$MONITORMILL:_16!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,16;
!$$$PROG$$$MONITORMILL:_17!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,17;
!$$$PROG$$$MONITORMILL:_18!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,18;
!$$$PROG$$$MONITORMILL:_19!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,19;
!$$$PROG$$$MONITORMILL:_20!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,20;
!$$$PROG$$$MONITORMILL:_21!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,21;
!$$$PROG$$$MONITORMILL:_22!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,22;
!$$$PROG$$$MONITORMILL:_23!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,23;
!$$$PROG$$$MONITORMILL:_24!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,24;
!$$$PROG$$$MONITORMILL:_25!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,25;
!$$$PROG$$$MONITORMILL:_26!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,26;
!$$$PROG$$$MONITORMILL:_27!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,27;
!$$$PROG$$$MONITORMILL:_28!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,28;
!$$$PROG$$$MONITORMILL:_29!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,29;
!$$$PROG$$$MONITORMILL:_30!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,30;
!$$$PROG$$$MONITORMILL:_31!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,31;
!$$$PROG$$$MONITORMILL:_32!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,32;
!$$$PROG$$$MONITORMILL:_33!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,33;
!$$$PROG$$$MONITORMILL:_34!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,34;
!$$$PROG$$$MONITORMILL:_35!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,35;
!$$$PROG$$$MONITORMILL:_36!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,36;
!$$$PROG$$$MONITORMILL:_37!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,37;
!$$$PROG$$$MONITORMILL:_38!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,38;
!$$$PROG$$$MONITORMILL:_39!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,39;
!$$$PROG$$$MONITORMILL:_40!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,40;
!$$$PROG$$$MONITORMILL:_41!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,41;
!$$$PROG$$$MONITORMILL:_42!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,42;
!$$$PROG$$$MONITORMILL:_43!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,43;
!$$$PROG$$$MONITORMILL:_44!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,44;
!$$$PROG$$$MONITORMILL:_45!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,45;
!$$$PROG$$$MONITORMILL:_46!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,46;
!$$$PROG$$$MONITORMILL:_47!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,47;
!$$$PROG$$$MONITORMILL:_48!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,48;
LINENO,48,'..\MONITORMILL.MB5',513;
DIRADR,%ST,0,I,%BR,<EXT:P_CURR:0>;
CALL,?SYS:READ_P_CURR?;
MOVDAT,WLDPOSX,%BR,<0:22>,WLDPOSX,%BR,<EXT:P_CURR:2>;
!$$$PROG$$$MONITORMILL:_49!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,49;
LINENO,49,'..\MONITORMILL.MB5',513;
DIRADR,%ST,0,I,%BR,<EXT:P_CURR:0>;
CALL,?SYS:READ_P_CURR?;
MOVDAT,WLDPOSY,%BR,<0:22>,WLDPOSY,%BR,<EXT:P_CURR:2>;
!$$$PROG$$$MONITORMILL:_50!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,50;
LINENO,50,'..\MONITORMILL.MB5',513;
DIRADR,%ST,0,I,%BR,<EXT:P_CURR:0>;
CALL,?SYS:READ_P_CURR?;
MOVDAT,WLDPOSZ,%BR,<0:22>,WLDPOSZ,%BR,<EXT:P_CURR:2>;
!$$$PROG$$$MONITORMILL:_51!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,51;
LINENO,51,'..\MONITORMILL.MB5',513;
TYPCON,R,%BR,<1:0>,I,%CON,20;
MOVDAT,R,%BR,<1:1>,WLDPOSX,%BR,<EXT:P_MILLCLAMPPOSE:1>;
SUB,R,%BR,<1:2>,R,%BR,<1:1>,R,%BR,<1:0>;
MOVDAT,WLDPOSX,%BR,<0:12>,R,%BR,<1:2>;
!$$$PROG$$$MONITORMILL:_52!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,52;
LINENO,52,'..\MONITORMILL.MB5',513;
TYPCON,R,%BR,<1:2>,I,%CON,300;
MOVDAT,R,%BR,<1:1>,WLDPOSY,%BR,<EXT:P_MILLCLAMPPOSE:1>;
SUB,R,%BR,<1:0>,R,%BR,<1:1>,R,%BR,<1:2>;
MOVDAT,WLDPOSY,%BR,<0:12>,R,%BR,<1:0>;
!$$$PROG$$$MONITORMILL:_53!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,53;
LINENO,53,'..\MONITORMILL.MB5',513;
TYPCON,R,%BR,<1:2>,I,%CON,100;
MOVDAT,R,%BR,<1:1>,WLDPOSZ,%BR,<EXT:P_MILLCLAMPPOSE:1>;
SUB,R,%BR,<1:0>,R,%BR,<1:1>,R,%BR,<1:2>;
MOVDAT,WLDPOSZ,%BR,<0:12>,R,%BR,<1:0>;
!$$$PROG$$$MONITORMILL:_54!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,54;
LINENO,54,'..\MONITORMILL.MB5',513;
TYPCON,R,%BR,<1:2>,I,%CON,120;
MOVDAT,R,%BR,<1:1>,WLDPOSX,%BR,<EXT:P_MILLCLAMPPOSE:1>;
ADD,R,%BR,<1:0>,R,%BR,<1:1>,R,%BR,<1:2>;
MOVDAT,WLDPOSX,%BR,<0:17>,R,%BR,<1:0>;
!$$$PROG$$$MONITORMILL:_55!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,55;
LINENO,55,'..\MONITORMILL.MB5',513;
TYPCON,R,%BR,<1:2>,I,%CON,20;
MOVDAT,R,%BR,<1:1>,WLDPOSY,%BR,<EXT:P_MILLCLAMPPOSE:1>;
ADD,R,%BR,<1:0>,R,%BR,<1:1>,R,%BR,<1:2>;
MOVDAT,WLDPOSY,%BR,<0:17>,R,%BR,<1:0>;
!$$$PROG$$$MONITORMILL:_56!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,56;
LINENO,56,'..\MONITORMILL.MB5',513;
TYPCON,R,%BR,<1:2>,I,%CON,300;
MOVDAT,R,%BR,<1:1>,WLDPOSZ,%BR,<EXT:P_MILLCLAMPPOSE:1>;
ADD,R,%BR,<1:0>,R,%BR,<1:1>,R,%BR,<1:2>;
MOVDAT,WLDPOSZ,%BR,<0:17>,R,%BR,<1:0>;
!$$$PROG$$$MONITORMILL:_57!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,57;
LINENO,57,'..\MONITORMILL.MB5',513;
MOVDAT,I,%BR,<0:26>,I,%CON,0;
!$$$PROG$$$MONITORMILL:_58!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,58;
!$$$PROG$$$MONITORMILL:_59!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,59;
!$$$PROG$$$MONITORMILL:_60!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,60;
LINENO,60,'..\MONITORMILL.MB5',513;
DIRADR,%ST,0,R,%BR,<1:2>;
MOVDAT,I,%ST,0,I,%CON,-1;
DIRADR,%ST,0,B,%BR,<0:21>;
MOVDAT,I,%ST,0,I,%CON,0;
DIRADR,%ST,0,B,%BR,<0:11>;
MOVDAT,I,%ST,0,I,%CON,1;
DIRADR,%ST,0,B,%BR,<0:16>;
MOVDAT,I,%ST,0,I,%CON,2;
CALL,?EXT:ZONE?;
TYPCON,I,%BR,<1:3>,R,%BR,<1:2>;
MOVDAT,I,%BR,<0:26>,I,%BR,<1:3>;
!$$$PROG$$$MONITORMILL:_61!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,61;
LINENO,61,'..\MONITORMILL.MB5',513;
EQ,B,%BR,<1:4>,I,%BR,<0:26>,I,%CON,1;
IF,%BR,<1:4>,?$$$PROG$$$MONITORMILL:3?;
!$$$PROG$$$MONITORMILL:_62!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,62;
LINENO,62,'..\MONITORMILL.MB5',513;
MOVDAT,I,%BR,<0:6>,I,%CON,1;
DIGOUT,%CON,134,%CON,1,I,%BR,<0:6>,%ST,0,I,%CON,0;
CLRST,I;
GOTO,?$$$PROG$$$MONITORMILL:4?;
!$$$PROG$$$MONITORMILL:3!!$$$PROG$$$MONITORMILL:_63!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,63;
!$$$PROG$$$MONITORMILL:_64!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,64;
LINENO,64,'..\MONITORMILL.MB5',513;
MOVDAT,I,%BR,<0:6>,I,%CON,0;
DIGOUT,%CON,134,%CON,1,I,%BR,<0:6>,%ST,0,I,%CON,0;
CLRST,I;
!$$$PROG$$$MONITORMILL:4!!$$$PROG$$$MONITORMILL:_65!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,65;
!$$$PROG$$$MONITORMILL:_66!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,66;
!$$$PROG$$$MONITORMILL:_67!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,67;
!$$$PROG$$$MONITORMILL:_68!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,68;
LINENO,68,'..\MONITORMILL.MB5',513;
EQ,B,%BR,<1:4>,I,%BR,<EXT:M_FORCECNCDROPEN:0>,I,%CON,1;
IF,%BR,<1:4>,?$$$PROG$$$MONITORMILL:5?;
!$$$PROG$$$MONITORMILL:_69!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,69;
LINENO,69,'..\MONITORMILL.MB5',513;
MOVDAT,I,%BR,<0:4>,I,%CON,1;
DIGOUT,%CON,20,%CON,1,I,%BR,<0:4>,%ST,0,I,%CON,0;
CLRST,I;
!$$$PROG$$$MONITORMILL:_70!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,70;
LINENO,70,'..\MONITORMILL.MB5',513;
MOVDAT,I,%BR,<0:5>,I,%CON,0;
DIGOUT,%CON,21,%CON,1,I,%BR,<0:5>,%ST,0,I,%CON,0;
CLRST,I;
GOTO,?$$$PROG$$$MONITORMILL:6?;
!$$$PROG$$$MONITORMILL:5!!$$$PROG$$$MONITORMILL:6!!$$$PROG$$$MONITORMILL:_71!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,71;
!$$$PROG$$$MONITORMILL:_72!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,72;
!$$$PROG$$$MONITORMILL:_73!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,73;
!$$$PROG$$$MONITORMILL:_74!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,74;
LINENO,74,'..\MONITORMILL.MB5',513;
DIGIN,%CON,21,%CON,1,I,%BR,<0:2>;
MOVDAT,I,%BR,<0:7>,I,%BR,<0:2>;
DIGOUT,%CON,244,%CON,1,I,%BR,<0:7>,%ST,0,I,%CON,0;
CLRST,I;
!$$$PROG$$$MONITORMILL:_75!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,75;
LINENO,75,'..\MONITORMILL.MB5',513;
DIGIN,%CON,22,%CON,1,I,%BR,<0:3>;
MOVDAT,I,%BR,<0:8>,I,%BR,<0:3>;
DIGOUT,%CON,245,%CON,1,I,%BR,<0:8>,%ST,0,I,%CON,0;
CLRST,I;
!$$$PROG$$$MONITORMILL:_76!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,76;
LINENO,76,'..\MONITORMILL.MB5',513;
DIGIN,%CON,16,%CON,1,I,%BR,<0:0>;
MOVDAT,I,%BR,<0:9>,I,%BR,<0:0>;
DIGOUT,%CON,246,%CON,1,I,%BR,<0:9>,%ST,0,I,%CON,0;
CLRST,I;
!$$$PROG$$$MONITORMILL:_77!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,77;
LINENO,77,'..\MONITORMILL.MB5',513;
DIGIN,%CON,18,%CON,1,I,%BR,<0:1>;
MOVDAT,I,%BR,<0:10>,I,%BR,<0:1>;
DIGOUT,%CON,247,%CON,1,I,%BR,<0:10>,%ST,0,I,%CON,0;
CLRST,I;
!$$$PROG$$$MONITORMILL:_78!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,78;
!$$$PROG$$$MONITORMILL:_79!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,79;
LINENO,79,'..\MONITORMILL.MB5',513;
MOVDAT,I,%BR,<EXT:M_ISROBOTARMMILL:0>,I,%BR,<0:26>;
!$$$PROG$$$MONITORMILL:_80!MOVDAT,I,%BR,<SYS:LINE:0>,I,%CON,80;
!$$$PROG$$$MONITORMILL:0!CONSTATE,%CON,-2,%CON,0;
BLEND;
PRCEND;
TSKEND;
END
---------------------------------------------------------------------------
SUBROUTINES :
BEGIN
END
---------------------------------------------------------------------------
